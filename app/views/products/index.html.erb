<container>
  <% if params[:category_id] %>
    <h3><%= @category.name.capitalize %></h3>
  <% elsif params[:user_id] %>
    <h3>Products by <%= @merchant.name.capitalize %> </h3>
  <% else %>
    <h3>All Products</h3>
  <% end %>

  <table>
    <thead>
      <tr>
        <th colspan="4"></th>
      </tr>
    </thead>

    <tbody>
      <% @products.each do |product| %>
        <tr>
          <td><%= link_to product.name, product %></td>
          <% if @current_user && product.user_id == @current_user.id %>
            <td><%= link_to 'Edit', edit_product_path(product) %></td>
            <td><%= link_to 'Delete', product_path(product), method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <div>
  <% if session[:user_id] %>
    <%= button_to 'Add New Product', new_product_path, method: :get %>
  <% end %>
  </div>
</container>
